(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185,303],{1014:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,7681)),Promise.resolve().then(r.bind(r,4368))},7681:function(e,t,r){"use strict";r.d(t,{ActiveLibrarian:function(){return c}});var a=r(7437),n=r(2265),o=r(2718),i=r(2489),s=r(9376),l=r(3303);function c(){let[e,t]=(0,n.useState)(!1),[r,c]=(0,n.useState)(""),[u,d]=(0,n.useState)([]),[h,m]=(0,n.useState)(null),f=(0,s.usePathname)(),b=(0,s.useSearchParams)();function p(){t(e=>!e)}return(0,n.useEffect)(()=>{let e=!0;return async function(){try{var t,r;let{data:{user:a},error:n}=await l.supabase.auth.getUser();if(n||!a){if(!e)return;d([{id:1,from:"guide",text:"Welcome. Tell me what you want to grow, and I will walk with you."}]);return}let{data:o,error:i}=await l.supabase.from("profiles").select("full_name, niche, onboarding_step, streak_count, founder_license, has_purchased_package, purchased_package_type").eq("id",a.id).maybeSingle(),s=!1,c=(null==o?void 0:o.has_purchased_package)||!1;if(c||(null==o?void 0:o.founder_license))try{let{data:e}=await l.supabase.from("user_content_history").select("id").eq("user_id",a.id).maybeSingle();s=!!e}catch(e){console.error("Error checking content history:",e)}if(!e)return;i&&console.error("Error loading profile for Active Librarian.",i);let u={full_name:null!==(t=null==o?void 0:o.full_name)&&void 0!==t?t:null,niche:null!==(r=null==o?void 0:o.niche)&&void 0!==r?r:null,onboarding_step:"number"==typeof(null==o?void 0:o.onboarding_step)?o.onboarding_step:(null==o?void 0:o.onboarding_step)!=null&&Number(o.onboarding_step)||null};m(u);let h=u.full_name||"there";u.niche;let p=u.onboarding_step,y="number"==typeof(null==o?void 0:o.streak_count)?o.streak_count:(null==o?void 0:o.streak_count)!=null&&Number(o.streak_count)||0,g=(null==o?void 0:o.founder_license)||!1,x=(null==b?void 0:b.get("success"))==="true",v="Welcome. Tell me what you want to grow, and I will walk with you.";if(x&&c){let e=(null==o?void 0:o.purchased_package_type)||"package";v="vault"===e||g?"Welcome to the inner circle, ".concat(h,". Your brand infrastructure is now unlimited. Let's train your voice in the Library to start."):"Your identity package is secured, ".concat(h,". Secure your handles in the Identity Sniper to get started.")}else if(c){if(c&&!s){let e=(null==o?void 0:o.purchased_package_type)||"package";v="vault"===e||g?"Welcome to the inner circle".concat("there"!==h?", ".concat(h):"",". To unlock my full memory, paste your best posts into the Brand Voice Training section in your Library."):"Your identity package is secured".concat("there"!==h?", ".concat(h):"",". Secure your handles in the Identity Sniper to get started.")}else if(f&&f.startsWith("/dashboard")){let e=0;try{let{data:t,error:r}=await l.supabase.from("saved_blueprints").select("id").eq("user_id",a.id);r?console.error("Error loading script count for Active Librarian.",r):t&&(e=t.length)}catch(e){console.error("Unexpected error loading script count.",e)}v="Great to see you, ".concat(h,"! You have ").concat(e," scripts ready to film. Which one are we doing today?")}else if(f&&f.startsWith("/identity")){let e=(null==o?void 0:o.linked_accounts)&&"object"==typeof o.linked_accounts?Object.values(o.linked_accounts).filter(Boolean).length:0;v=0===e?"Hi ".concat(h,"! Let's secure your digital identity. Start by checking your ideal handle across TikTok, Instagram, and X."):e<3?"Nice progress, ".concat(h,"! You've secured ").concat(e," handle").concat(1!==e?"s":"",". Let's finish the rest and craft your bios."):"Your identity is locked in, ".concat(h,"! Ready to generate professional bios that match your brand?")}else if(f&&f.startsWith("/lab")){let e=(null==o?void 0:o.purchased_package_type)||"package";v=c?"vault"===e||g?"Welcome to the Lab, ".concat(h,"! Enter your niche and I'll generate platform-specific scripts trained on your voice."):"Hey ".concat(h,"! The Lab is ready. You can generate 3 free blueprints, or upgrade to the Authority Vault for unlimited access."):"Hi ".concat(h,"! The Algorithm Lab generates unlimited, voice-matched blueprints. Secure your Authority Vault to get started.")}else if(f&&f.startsWith("/library")){if(s)v="Your Library is active, ".concat(h,". I'm learning from your successful posts. Check out the Creator Vault for strategy insights, or review your saved blueprints.");else{let e=(null==o?void 0:o.purchased_package_type)||"package";v="vault"===e||g?"Welcome to your Library, ".concat(h,". Train your brand voice by pasting your top 3 posts into Brand Voice Training. I'll mimic your successful style in every script."):"Welcome to your Library, ".concat(h,". Explore the Creator Vault to study top performers, or save your first blueprint from the Lab.")}}else f&&f.startsWith("/trends")?v="Welcome to the Trending Lab, ".concat(h,"! I'm tracking the hottest hashtags across TikTok, Instagram, and X. Filter by platform or category to find your next viral angle."):0===y?v="Hi ".concat(h,"! Ready to start a small win today? Pick one script from your dashboard and film itâ€”even 30 seconds counts."):y>=3?v="You're on a roll, ".concat(h,"! Your consistency is building your brand's foundation. Keep it going!"):1===p?v="Hi ".concat(h,", I'm ready to help you scout your perfect handle!"):3===p&&(v="Welcome back! Ready to visit the Lab for today's video ideas?")}else v="Your identity is the foundation".concat("there"!==h?", ".concat(h):"",". Secure your package to activate my memory.");d([{id:1,from:"guide",text:v}])}catch(t){if(console.error("Unexpected error loading profile for Active Librarian.",t),!e)return;d([{id:1,from:"guide",text:"Welcome. Tell me what you want to grow, and I will walk with you."}])}}(),()=>{e=!1}},[f,b]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:p,className:"fixed bottom-6 right-6 z-40 flex h-12 min-h-[48px] w-12 items-center justify-center rounded-full bg-amber-500 text-slate-950 shadow-lg transition hover:bg-amber-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-300","aria-label":"Open guide",children:(0,a.jsx)(o.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"fixed inset-y-0 right-0 z-30 w-full max-w-sm transform bg-slate-900/95 text-slate-50 shadow-xl backdrop-blur transition-transform duration-300 ".concat(e?"translate-x-0":"translate-x-full"),"aria-hidden":!e,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-800 px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-wide text-amber-400",children:"Your Guide"}),(0,a.jsx)("p",{className:"text-base font-semibold text-slate-50",children:"Active Librarian"})]}),(0,a.jsx)("button",{type:"button",onClick:p,className:"flex h-10 min-h-[40px] w-10 items-center justify-center rounded-full bg-slate-800 text-slate-200 hover:bg-slate-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-300","aria-label":"Close guide",children:(0,a.jsx)(i.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex h-[calc(100%-4rem)] flex-col",children:[(0,a.jsx)("div",{className:"flex-1 space-y-3 overflow-y-auto px-4 py-4",children:u.map(e=>(0,a.jsx)("div",{className:"max-w-[80%] rounded-2xl px-3 py-2 text-sm ".concat("user"===e.from?"ml-auto bg-amber-500 text-slate-950":"mr-auto bg-slate-800 text-slate-50"),children:e.text},e.id))}),(0,a.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault();let a=r.trim();if(!a)return;let n=(null===(t=u[u.length-1])||void 0===t?void 0:t.id)+1||1;d([...u,{id:n,from:"user",text:a},{id:n+1,from:"guide",text:"Got it. I'll use this to shape your journey. For now, keep moving through the steps."}]),c("")},className:"border-t border-slate-800 bg-slate-900/95 px-4 py-3",children:[(0,a.jsx)("label",{className:"sr-only",htmlFor:"librarian-input",children:"Share what you need help with"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{id:"librarian-input",value:r,onChange:e=>c(e.target.value),placeholder:"Tell your guide what you want to build...",className:"flex-1 rounded-full border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-amber-400 focus:outline-none focus:ring-1 focus:ring-amber-400"}),(0,a.jsx)("button",{type:"submit",className:"inline-flex min-h-[48px] items-center justify-center rounded-full bg-amber-500 px-4 text-sm font-semibold text-slate-950 hover:bg-amber-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-300",children:"Send"})]})]})]})]})]})}},4368:function(e,t,r){"use strict";r.d(t,{NavigationHeader:function(){return d}});var a=r(7437),n=r(2265),o=r(7648),i=r(9376),s=r(2023);let l=(0,r(9205).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=r(3303),u=r(5);function d(){(0,i.useRouter)();let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async function(){if((0,u.a8)()&&((0,u.qy)()||(0,u.Qf)())){t(!0);return}let{data:{session:e}}=await c.supabase.auth.getSession();t(!!e)})()},[]),(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-slate-800 bg-slate-950/95 backdrop-blur-sm",children:(0,a.jsxs)("nav",{className:"mx-auto flex max-w-7xl items-center justify-between gap-4 px-4 py-4 md:px-6",children:[(0,a.jsxs)(o.default,{href:"/",className:"flex items-center gap-2 rounded-full border border-amber-500/40 bg-amber-500/10 px-4 py-2 transition-all hover:border-amber-500/60 hover:bg-amber-500/15",children:[(0,a.jsx)(s.Z,{className:"h-5 w-5 text-amber-400"}),(0,a.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wide text-amber-300",children:"Octane Nexus"})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:!1===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.default,{href:"/login",className:"inline-flex items-center justify-center rounded-full border border-slate-700 bg-slate-900 px-4 py-2 text-sm font-semibold text-slate-200 transition-all hover:border-amber-500/50 hover:bg-slate-800 hover:text-amber-400",children:"Sign In"}),(0,a.jsx)(o.default,{href:"/login?view=signup",className:"inline-flex items-center justify-center rounded-full border-2 border-amber-500 bg-amber-500 px-4 py-2 text-sm font-semibold text-slate-950 shadow-md transition-all hover:border-amber-400 hover:bg-amber-400 hover:shadow-lg hover:shadow-amber-500/50",children:"Get Started"})]}):!0===e?(0,a.jsxs)(o.default,{href:"/dashboard",className:"inline-flex items-center gap-2 rounded-full border border-slate-700 bg-slate-900 px-4 py-2 text-sm font-semibold text-slate-200 transition-all hover:border-amber-500/50 hover:bg-slate-800 hover:text-amber-400",children:[(0,a.jsx)(l,{className:"h-4 w-4"}),"Command Center"]}):null})]})})}},5:function(e,t,r){"use strict";r.d(t,{Qf:function(){return s},Sz:function(){return i},a8:function(){return o},qy:function(){return l}});let a="octane_mock_user",n="octane_mock_session";function o(){return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}function i(e){if(!o())return;let t={...e,created_at:new Date().toISOString()};document.cookie="".concat(a,"=").concat(JSON.stringify(t),"; path=/; max-age=86400"),document.cookie="".concat(n,"=mock_session_").concat(Date.now(),"; path=/; max-age=86400")}function s(){if(!o())return null;let e=document.cookie.split(";").find(e=>e.trim().startsWith("".concat(a,"=")));if(!e)return null;try{return JSON.parse(e.split("=")[1])}catch(e){return null}}function l(){return!!o()&&document.cookie.split(";").some(e=>e.trim().startsWith("".concat(n,"=")))}},3303:function(e,t,r){"use strict";r.d(t,{supabase:function(){return a}});let a=(0,r(3053).eI)("https://zdvedfnpipgygvikoooa.supabase.co","sb_publishable_1EEA1MtGEqz8vWJAApQM6Q_FnjK-aaw")},2718:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7960:function(){}},function(e){e.O(0,[587,434,53,825,971,117,744],function(){return e(e.s=1014)}),_N_E=e.O()}]);