"use strict";(()=>{var e={};e.id=936,e.ids=[936],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1234:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>R,patchFetch:()=>U,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var o={};t.r(o),t.d(o,{GET:()=>l});var n=t(9303),a=t(8716),s=t(670),i=t(7070),u=t(7857);let c=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://zdvedfnpipgygvikoooa.supabase.co",p=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"sb_publishable_1EEA1MtGEqz8vWJAApQM6Q_FnjK-aaw";async function l(e){let r=new URL(e.url),t=r.searchParams.get("code"),o=r.searchParams.get("returnTo")||"/identity";if(t){let e=(0,u.eI)(c,p,{auth:{persistSession:!1}});try{let{data:n,error:a}=await e.auth.exchangeCodeForSession(t);if(a)return console.error("Error exchanging code for session:",a),i.NextResponse.redirect(new URL(`/login?error=${encodeURIComponent(a.message)}&returnTo=${encodeURIComponent(o)}`,r.origin));if(n.user){let{error:t}=await e.from("profiles").upsert({id:n.user.id,email:n.user.email},{onConflict:"id"});return t&&console.error("Error creating/updating profile:",t),i.NextResponse.redirect(new URL(o,r.origin))}}catch(e){return console.error("Error in auth callback:",e),i.NextResponse.redirect(new URL(`/login?error=${encodeURIComponent(e.message||"Authentication failed")}&returnTo=${encodeURIComponent(o)}`,r.origin))}}return i.NextResponse.redirect(new URL(`/login?returnTo=${encodeURIComponent(o)}`,r.origin))}let d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/auth/callback/route",pathname:"/auth/callback",filename:"route",bundlePath:"app/auth/callback/route"},resolvedPagePath:"C:\\Users\\Logan A\\Downloads\\Octane_Nexus\\app\\auth\\callback\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:m}=d,R="/auth/callback/route";function U(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[276,972,857],()=>t(1234));module.exports=o})();